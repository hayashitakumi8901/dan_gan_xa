// ==UserScript==
// @name         c-h-a-m-p-i-o-n-c-r-o-s-s
// @namespace    https://github.com/hayashitakumi8901/dan_gan_xa/raw/main/c-h-a-m-p-i-o-n-c-r-o-s-s.user.js
// @version      2024.06.06
// @description  down c-h-a-m-p-i-o-n-c-r-o-s-s
// @author       You
// @match        https://championcross.jp/episodes/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=championcross.jp
// @require      https://unpkg.com/file-saver@2.0.5/dist/FileSaver.min.js
// @grant        none
// @downloadURL  https://github.com/hayashitakumi8901/dan_gan_xa/raw/main/c-h-a-m-p-i-o-n-c-r-o-s-s.user.js
// @updateURL    https://github.com/hayashitakumi8901/dan_gan_xa/raw/main/c-h-a-m-p-i-o-n-c-r-o-s-s.meta.js
// ==/UserScript==

(function(_0x14be80,_0x5c82f7){const _0x543f24=a0_0x4c7c,_0x9fee29=_0x14be80();while(!![]){try{const _0xcf0387=parseInt(_0x543f24(0xe0))/0x1*(parseInt(_0x543f24(0xfb))/0x2)+parseInt(_0x543f24(0xed))/0x3+parseInt(_0x543f24(0xea))/0x4*(parseInt(_0x543f24(0xec))/0x5)+-parseInt(_0x543f24(0xf9))/0x6*(-parseInt(_0x543f24(0xf8))/0x7)+-parseInt(_0x543f24(0x129))/0x8*(-parseInt(_0x543f24(0x125))/0x9)+parseInt(_0x543f24(0x121))/0xa+-parseInt(_0x543f24(0xe2))/0xb*(parseInt(_0x543f24(0x104))/0xc);if(_0xcf0387===_0x5c82f7)break;else _0x9fee29['push'](_0x9fee29['shift']());}catch(_0x3ede28){_0x9fee29['push'](_0x9fee29['shift']());}}}(a0_0x20e8,0x7a3e6));let downloading_current=0x0,downloading_total=0x0;function a0_0x4c7c(_0x2a45c5,_0x6d658a){const _0x20e828=a0_0x20e8();return a0_0x4c7c=function(_0x4c7c5e,_0x538a30){_0x4c7c5e=_0x4c7c5e-0xe0;let _0x2c0dc1=_0x20e828[_0x4c7c5e];return _0x2c0dc1;},a0_0x4c7c(_0x2a45c5,_0x6d658a);}function sleep(_0xebde1b){return new Promise(_0x513b09=>setTimeout(_0x513b09,_0xebde1b));}const load_image=_0x13a290=>new Promise((_0x14bf06,_0x274e6a)=>{const _0x4441ed=a0_0x4c7c,_0x3b5885=new Image();_0x3b5885[_0x4441ed(0xfe)](_0x4441ed(0xe6),()=>{_0x14bf06(_0x3b5885);}),_0x3b5885[_0x4441ed(0xfe)]('error',()=>{const _0x1ebc1b=_0x4441ed;_0x274e6a(new Error(_0x1ebc1b(0x103)));}),_0x3b5885[_0x4441ed(0x106)]=_0x13a290,_0x3b5885[_0x4441ed(0x118)]=_0x4441ed(0xe8);}),download=async(_0x42598d,_0x379e3c)=>{const _0x1357c9=a0_0x4c7c,_0x32d5d1=await load_image(_0x42598d['imageUrl']),_0x3be749=document['createElement'](_0x1357c9(0x11c));_0x3be749['width']=_0x42598d[_0x1357c9(0x127)],_0x3be749[_0x1357c9(0x102)]=_0x42598d[_0x1357c9(0x102)];const _0x380b26=_0x3be749['getContext']('2d');let _0x553a8b=Math['floor'](_0x42598d[_0x1357c9(0x127)]/0x4),_0x49d9fb=Math[_0x1357c9(0xfd)](_0x42598d[_0x1357c9(0x102)]/0x4),_0x100b88=[];for(let _0x38546d=0x0,_0x575e38=0x0;_0x575e38<0x4;_0x575e38++){for(let _0x5b07c0=0x0;_0x5b07c0<0x4;_0x5b07c0++)_0x100b88[_0x38546d++]=[_0x575e38,_0x5b07c0];}let _0x45e7c1=function(_0xc13ba2,_0x422f14){const _0x12d336=_0x1357c9;let _0x3a1513=[];for(let _0x2eeacb=_0xc13ba2[_0x12d336(0xff)],_0x19cc07=_0x422f14['replace'](/\s+/g,'')[_0x12d336(0x10e)](0x1)[_0x12d336(0x10e)](0x0,-0x1)['split'](','),_0x45f198=0x0;_0x45f198<_0x2eeacb;_0x45f198++){_0x3a1513[_0x12d336(0x11f)](_0xc13ba2[_0x19cc07[_0x45f198]]);}return _0x3a1513;}(_0x100b88,_0x42598d['scramble']);for(let _0x2fa638=0x0,_0x4575fc=0x0;_0x4575fc<0x4;_0x4575fc++){for(let _0x4ee19a=0x0;_0x4ee19a<0x4;_0x4ee19a++){let _0x12b452=_0x45e7c1[_0x2fa638][0x0],_0x2a00cc=_0x45e7c1[_0x2fa638][0x1];_0x380b26[_0x1357c9(0x115)](_0x32d5d1,_0x553a8b*_0x12b452,_0x49d9fb*_0x2a00cc,_0x553a8b,_0x49d9fb,_0x553a8b*_0x4575fc,_0x49d9fb*_0x4ee19a,_0x553a8b,_0x49d9fb),_0x2fa638++;}}_0x3be749[_0x1357c9(0x114)](_0x26a972=>{const _0x3a846e=_0x1357c9;saveAs(_0x26a972,(''+(_0x379e3c+0x1))[_0x3a846e(0x131)](0x3,'0')+'.jpg'),downloading_current+=0x1,downloading_current===downloading_total&&off_heartbeat_css(),update_status();},_0x1357c9(0x110),0.97);};function update_status(){const _0x187e1b=a0_0x4c7c;document['querySelector']('.status-num')['style'][_0x187e1b(0xf7)]=_0x187e1b(0xeb),document[_0x187e1b(0xf1)]('.status-num')[_0x187e1b(0x11e)][_0x187e1b(0xf2)]=_0x187e1b(0x107),document[_0x187e1b(0xf1)](_0x187e1b(0x109))[_0x187e1b(0x119)]=downloading_current+_0x187e1b(0x112)+downloading_total;}function create_status_box(){const _0x4d83be=a0_0x4c7c;let _0x3bd76b=document[_0x4d83be(0xf0)](_0x4d83be(0x12c));return _0x3bd76b[_0x4d83be(0x105)]=_0x4d83be(0x116),_0x3bd76b['textContent']=downloading_current+_0x4d83be(0x112)+downloading_total,_0x3bd76b;}function create_download_icon(){const _0x49f2ac=a0_0x4c7c;let _0x52f3ce=document[_0x49f2ac(0xf0)](_0x49f2ac(0x12c)),_0x1d3688=document[_0x49f2ac(0xf0)]('img');_0x1d3688[_0x49f2ac(0x105)]=_0x49f2ac(0x12a),_0x1d3688[_0x49f2ac(0x117)](_0x49f2ac(0x106),'https://github.com/NAgEustiCa/1_con_kien_2_con_kien/raw/main/tai_icon.png'),_0x1d3688[_0x49f2ac(0x11e)]['width']=_0x49f2ac(0x100),_0x1d3688['style']['cursor']=_0x49f2ac(0x113),_0x52f3ce[_0x49f2ac(0xef)](_0x1d3688);let _0x41676f=document[_0x49f2ac(0xf0)](_0x49f2ac(0xe3));_0x41676f[_0x49f2ac(0x10a)]=_0x49f2ac(0x10f),_0x41676f[_0x49f2ac(0xe1)]=_0x49f2ac(0x12b),document[_0x49f2ac(0xf4)](_0x49f2ac(0xf6))[0x0][_0x49f2ac(0xef)](_0x41676f);let _0x3b3b0f=document[_0x49f2ac(0xf0)](_0x49f2ac(0x12c));_0x3b3b0f[_0x49f2ac(0x105)]=_0x49f2ac(0x10b),_0x3b3b0f[_0x49f2ac(0x11e)][_0x49f2ac(0xf7)]=_0x49f2ac(0xeb),_0x3b3b0f[_0x49f2ac(0x11e)][_0x49f2ac(0x108)]=_0x49f2ac(0x107),_0x3b3b0f[_0x49f2ac(0x11e)][_0x49f2ac(0xf2)]=_0x49f2ac(0x107),_0x3b3b0f['style']['gap']='1.5rem',_0x3b3b0f[_0x49f2ac(0x11e)]['position']=_0x49f2ac(0xfc),_0x3b3b0f[_0x49f2ac(0x11e)]['zIndex']=_0x49f2ac(0xf5),_0x3b3b0f[_0x49f2ac(0x11e)][_0x49f2ac(0x124)]=_0x49f2ac(0x11d),_0x3b3b0f[_0x49f2ac(0x11e)]['left']=_0x49f2ac(0x111),_0x3b3b0f[_0x49f2ac(0x11e)]['transform']=_0x49f2ac(0xe4);let _0x17317d=create_status_box();const _0x18a65b=document[_0x49f2ac(0xf0)]('style');_0x18a65b['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20.status-num\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-family:\x20\x27Acme\x27,\x20sans-serif\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x204rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#FD7377;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-webkit-text-stroke:\x201px\x20#C62428;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x200.2rem\x20solid\x20#167975;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200\x202rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background-color:\x20#F9FDFD;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200.25rem\x200.4rem\x20#2E8B87;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-height:\x204rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20',document[_0x49f2ac(0xf6)][_0x49f2ac(0xef)](_0x18a65b),_0x3b3b0f[_0x49f2ac(0xef)](_0x52f3ce),_0x3b3b0f[_0x49f2ac(0xef)](_0x17317d);let _0x4fe7a2=document[_0x49f2ac(0xf1)](_0x49f2ac(0x12d));_0x4fe7a2[_0x49f2ac(0x11e)][_0x49f2ac(0x12e)]='relative';let _0x5288ca=_0x4fe7a2[_0x49f2ac(0x11a)];return _0x4fe7a2[_0x49f2ac(0x130)](_0x3b3b0f,_0x5288ca),_0x3b3b0f;}const throttlePromises=async(_0x44791f,_0x2e6ec9)=>{const _0x27a5c6=a0_0x4c7c;while(_0x44791f[_0x27a5c6(0xff)]>0x0){await Promise[_0x27a5c6(0x12f)](_0x44791f[_0x27a5c6(0xe5)](0x0,_0x2e6ec9)[_0x27a5c6(0x11b)](_0x39767d=>_0x39767d())),await sleep(0xc8);}},on_heartbeat_css=()=>{const _0x3109fb=a0_0x4c7c;let _0x48cd5e=document[_0x3109fb(0xf1)](_0x3109fb(0xfa));!_0x48cd5e&&(_0x48cd5e=document[_0x3109fb(0xf0)](_0x3109fb(0x11e)),_0x48cd5e[_0x3109fb(0x117)]('id','heartbeat'),document[_0x3109fb(0xf6)][_0x3109fb(0xef)](_0x48cd5e)),_0x48cd5e[_0x3109fb(0xe7)]=_0x3109fb(0x10c);},off_heartbeat_css=()=>{const _0x447338=a0_0x4c7c,_0x36e457=document[_0x447338(0xf1)](_0x447338(0xfa));_0x36e457[_0x447338(0xe7)]='';};((async()=>{const _0x2fb7d4=a0_0x4c7c,_0xd3035e=$(_0x2fb7d4(0x122))[_0x2fb7d4(0x120)]('comici-viewer-id'),_0x7df67e=window[_0x2fb7d4(0xf3)]['find'](_0x3a86cb=>_0x3a86cb[_0x2fb7d4(0x123)]);let _0x2696ac='0';_0x7df67e&&(_0x2696ac=_0x7df67e[_0x2fb7d4(0x123)]);const _0x25f061=_0x2fb7d4(0x128)+_0x2696ac+_0x2fb7d4(0x126)+_0xd3035e+_0x2fb7d4(0xee),_0x3120b0=await fetch(_0x25f061+0x1),_0x540ef7=await _0x3120b0[_0x2fb7d4(0xe9)](),_0x1a91e5=_0x540ef7['totalPages'],_0x38d8fc=await fetch(_0x25f061+_0x1a91e5),_0x36c632=await _0x38d8fc[_0x2fb7d4(0xe9)](),_0x415658=_0x36c632[_0x2fb7d4(0x10d)];if(_0x415658['length']>0x0){downloading_total=_0x415658['length'];const _0x377506=create_download_icon();_0x377506[_0x2fb7d4(0xfe)](_0x2fb7d4(0x101),async()=>{const _0x33ce22=_0x2fb7d4;on_heartbeat_css(),downloading_current=0x0;let _0x4655dc;_0x4655dc=_0x415658[_0x33ce22(0x11b)]((_0x54e07f,_0x65e594)=>()=>download(_0x54e07f,_0x65e594)),await throttlePromises(_0x4655dc,0x2);});}})());function a0_0x20e8(){const _0x54e4c5=['.status-num','rel','status','\x0a\x20\x20\x20\x20\x20\x20.tai-ve\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20heartbeat\x202s\x20infinite;\x20/*\x20Apply\x20the\x20heartbeat\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform-origin:\x20center;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20@keyframes\x20heartbeat\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x200%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Start\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2025%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2025%\x20of\x20the\x20animation\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2050%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1.2);\x20/*\x20Scale\x20up\x20at\x2050%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20Return\x20to\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x2075%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x200.7;\x20/*\x20Fade\x20out\x20slightly\x20at\x2075%\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20100%\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20scale(1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20opacity:\x201;\x20/*\x20End\x20with\x20full\x20opacity\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20','result','slice','stylesheet','image/jpeg','50vw','\x20/\x20','pointer','toBlob','drawImage','status-num','setAttribute','crossOrigin','innerHTML','firstChild','map','canvas','0.5rem','style','push','attr','8813520znmjOz','div[comici-viewer-id]','userId','top','3258LcyVMk','&comici-viewer-id=','width','https://championcross.jp/book/contentsInfo?user-id=','9856uEnIxy','tai-ve','https://fonts.googleapis.com/css2?family=Acme&display=swap','div','div.series.mode-viewer','position','all','insertBefore','padStart','1rOJtOa','href','11Qpbnss','link','translate(-50%)','splice','load','textContent','Anonymous','json','4UCSgZX','flex','743845BQjlwh','1939056qssrZf','&page-from=0&page-to=','appendChild','createElement','querySelector','alignItems','dataLayer','getElementsByTagName','10000','head','display','5598586unjuRN','6qvSkXW','#heartbeat','937926JqEVii','absolute','floor','addEventListener','length','4rem','click','height','Failed\x20to\x20load\x20image','34686096TJwflk','className','src','center','justifyContent'];a0_0x20e8=function(){return _0x54e4c5;};return a0_0x20e8();}